<mat-toolbar class="shadow-sm">
  <!-- <div class=" justify-content-between"> -->
  <div>
    <button type="button" aria-label="Toggle sidenav" mat-icon-button (click)="toggle()">
      <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      <span class="ps-1">School ERP</span>
    </button>

  </div>
  <div>

    <ng-container>
      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <div class="avatarText bg-light text-primary text-uppercase" *ngIf="!profilePhotoURL && avatarText">{{avatarText}}</div>
        <img class="avatar mat-elevation-z8" height="30" width="30" *ngIf="profilePhotoURL" [src]="profilePhotoURL" />
      </button>
    </ng-container>
  </div>
  <!-- </div> -->
</mat-toolbar>
<mat-sidenav-container class="sidenav-container">

  <mat-sidenav class="shadow-sm" [style.width.rem]="showMenuText === true ? 9 : 4" [disableClose]="true">
    <!-- <div class="text-center" matTooltip="Primary Navigation" [matTooltipTouchGestures]="'auto'"
      [matTooltipPosition]="'right'"><small style="font-size: 0.5rem;">Primary Nav</small></div> -->
    <div class="d-flex flex-column">
      <a class="menu-button text-white text-decoration-none" mat-ripple (click)="toggleMenuText()"
      style="cursor: pointer;">
      <div mat-button class="menu-button d-flex align-items-center py-2 px-0 collapse" [class.justify-content-center]="!showMenuText">
        <div>
         
          <mat-icon [ngClass]="showMenuText === true ? 'ms-2' :'ms-0'">{{showMenuText === true ? 'keyboard_double_arrow_left' : 'keyboard_double_arrow_right'}}</mat-icon>
        </div>
        <div class="ms-2" *ngIf="showMenuText"><span class="fs-6 pb-1">Collapse</span></div>

      </div>
    </a>
      <div style="flex:1">
        <ng-container *ngFor="let item of menuIems">

          <a class="menu-button text-decoration-none" mat-ripple routerLink="{{item?.modifiedURL}}"
            [ngClass]="(item.url | activeUrlMatcher : currentNav) === 'active' ? 'active' : ''"
            (click)="loadRouteToStorage(item)" matTooltip="Navigates to {{item.label}}"
            [matTooltipTouchGestures]="'auto'" [matTooltipPosition]="'right'">
            <div class="d-flex align-items-center py-2 px-2" [class.justify-content-center]="!showMenuText"
              role="button" mat-button>
              <div>
                <mat-icon class="ms-0">{{item.icon}}</mat-icon>
              </div>
              <div class="ms-2" *ngIf="showMenuText"><span class="fs-6 pb-1"> {{item.label}}</span></div>
            </div>

          </a>
        </ng-container>

      </div>

      <!-- <div>
       


      </div> -->

    </div>




  </mat-sidenav>
  <mat-sidenav-content class="card border-0" [style.marginLeft.rem]="leftMarginDecider">
    <mat-progress-bar mode="indeterminate" color="accent" *ngIf="showNavInterceptor && loadingNavProgress">
    </mat-progress-bar>

    <ng-content select=".router-outlet"></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>

<mat-menu #menu="matMenu">
  <ng-content [select]="menu"></ng-content>
  <button mat-menu-item>
    <mat-icon>person</mat-icon>
    <span>Profile</span>
  </button>
  <button mat-menu-item (click)="logout()">
    <mat-icon>logout</mat-icon>
    <span>Logout</span>
  </button>
</mat-menu>